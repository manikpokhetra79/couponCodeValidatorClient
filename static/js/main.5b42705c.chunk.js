(this.webpackJsonpcouponcodeclient=this.webpackJsonpcouponcodeclient||[]).push([[0],{29:function(e,t,n){},30:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(11),l=n.n(s),r=(n(29),n(30),n(13)),i=n(4),o=n(3),j=n(36),u=n(37),b=n(38),d=n(40),m=n(1),O=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(""),l=Object(o.a)(s,2),r=l[0],i=l[1],O=Object(c.useState)(0),p=Object(o.a)(O,2),x=p[0],h=p[1],f=Object(c.useState)(""),g=Object(o.a)(f,2),y=g[0],C=g[1],N=Object(c.useState)(0),v=Object(o.a)(N,2),S=v[0],E=v[1],T=Object(c.useState)(0),A=Object(o.a)(T,2),w=A[0],q=A[1],V=Object(c.useState)(0),D=Object(o.a)(V,2),F=D[0],k=D[1],P=Object(c.useState)(!1),z=Object(o.a)(P,2),M=z[0],J=z[1],L=Object(c.useState)(!1),B=Object(o.a)(L,2),G=B[0],I=B[1],W=Object(c.useState)(!1),H=Object(o.a)(W,2),U=H[0],K=H[1],Q=Object(c.useState)(!1),R=Object(o.a)(Q,2),X=R[0],Y=R[1],Z=Object(c.useState)(""),$=Object(o.a)(Z,2),_=$[0],ee=$[1],te=function(e){console.log(e),fetch("https://coupon-code-generator.herokuapp.com/api/coupons/create",{method:"POST",body:JSON.stringify({formdata:e}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){"success"===e.status?(Y(!0),setTimeout((function(){Y(!1)}),4e3)):(K(!0),ee(e.message),setTimeout((function(){K(!1)}),4e3))})).catch((function(e){console.log(e)}))};return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(j.a,{className:"p-3",children:[" ",Object(m.jsx)(u.a,{children:Object(m.jsx)("h1",{className:"text-center text-danger",children:"Coupon Generator"})}),Object(m.jsxs)(u.a,{lg:10,className:"my-3",children:[Object(m.jsxs)(b.a,{md:5,lg:5,className:"d-flex justify-content-between",children:[Object(m.jsx)("label",{children:"Enter Code"}),Object(m.jsx)("input",{type:"text",name:"name",placeholder:"Enter coupon Code",onChange:function(e){a(e.target.value)},required:!0})]}),Object(m.jsxs)(b.a,{md:5,lg:5,className:"d-flex justify-content-between",children:[" ",Object(m.jsx)("label",{children:"Select Expiry Date"}),Object(m.jsx)("input",{type:"datetime-local",step:"2",required:!0,name:"expirationDate",onChange:function(e){i(e.target.value)}})]})]}),Object(m.jsxs)(u.a,{lg:10,className:"my-3",children:[Object(m.jsxs)(b.a,{md:5,lg:5,className:"d-flex justify-content-between",children:[" ",Object(m.jsx)("label",{children:"Enter Minimum Cart Value"}),Object(m.jsx)("input",{type:"number",name:"minCartValue",required:!0,placeholder:"Enter Minimum Cart Value",onChange:function(e){h(e.target.value)}})]}),Object(m.jsxs)(b.a,{md:5,lg:5,className:"d-flex justify-content-between",children:[" ",Object(m.jsx)("label",{children:"Coupon Type"}),Object(m.jsxs)("select",{name:"couponType",onClick:function(e){"flat"===e.target.value?(J(!0),I(!1),C("flat")):"percent"===e.target.value?(J(!1),I(!0),C("percent")):(J(!1),I(!1))},children:[Object(m.jsx)("option",{value:"empty",default:!0,children:"Select"}),Object(m.jsx)("option",{value:"flat",children:"Flat Coupon"}),Object(m.jsx)("option",{value:"percent",children:"Percent Coupon"})]})]})]}),M&&Object(m.jsx)(u.a,{lg:10,className:"my-3",children:Object(m.jsxs)(b.a,{md:5,lg:5,className:"d-flex justify-content-between",children:[" ",Object(m.jsx)("label",{children:"Enter flat Coupon Amount"}),Object(m.jsx)("input",{type:"number",required:!0,name:"flatAmount",placeholder:"Enter Amount for Coupon",onChange:function(e){E(e.target.value)}})]})}),G&&Object(m.jsxs)(u.a,{lg:10,className:"my-3",children:[Object(m.jsxs)(b.a,{md:5,lg:5,className:"d-flex justify-content-between",children:[" ",Object(m.jsx)("label",{children:"Enter Percent Value"}),Object(m.jsx)("input",{type:"number",name:"percentValue",min:"1",required:!0,placeholder:"Enter Percent Value",onChange:function(e){q(e.target.value)}})]}),Object(m.jsxs)(b.a,{md:5,lg:5,className:"d-flex justify-content-between",children:[" ",Object(m.jsx)("label",{children:"Enter Max Percent Discount"}),Object(m.jsx)("input",{type:"number",name:"maxDiscount",placeholder:"Max Percent Discount",min:"1",required:!0,onChange:function(e){k(e.target.value)}})]})]}),Object(m.jsxs)(u.a,{lg:10,className:"my-3",children:[Object(m.jsx)(b.a,{md:5,lg:5,className:"d-flex justify-content-between",children:Object(m.jsx)(d.a,{variant:"primary",onClick:function(e){if("flat"===y)n&&r&&y&&x&&S?te({name:n,expiryDate:r,couponType:y,minCartAmount:x,flatAmount:S}):alert("Enter all required values");else if("percent"===y){n&&r&&y&&x&&w&&F?te({name:n,expiryDate:r,couponType:y,minCartAmount:x,percentValue:w,maxDiscount:F}):alert("Enter all required values")}else alert("Enter all required values")},children:"Generate Coupon"})}),X&&Object(m.jsx)(b.a,{children:Object(m.jsx)("div",{className:"alert alert-primary",role:"alert",children:"Coupon created Successfully."})}),U&&Object(m.jsx)(b.a,{children:Object(m.jsx)("div",{className:"alert alert-danger",role:"alert",children:Object(m.jsx)("span",{className:"text-capitalize",children:_})})})]})]})})},p=n(39),x=function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(p.a,{bg:"primary",children:Object(m.jsxs)("ul",{className:"header-menu my-2",children:[Object(m.jsx)("li",{children:Object(m.jsx)(r.b,{to:"/",children:"Home"})}),Object(m.jsx)("li",{children:Object(m.jsx)(r.b,{to:"/validate-coupons",children:"Validate Coupon"})}),Object(m.jsx)("li",{children:Object(m.jsx)(r.b,{to:"/list-coupons",children:"List Coupons"})})]})})})},h=function(){var e=Object(c.useState)(0),t=Object(o.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(""),l=Object(o.a)(s,2),r=l[0],i=l[1],O=Object(c.useState)(!1),p=Object(o.a)(O,2),x=p[0],h=p[1],f=Object(c.useState)(!1),g=Object(o.a)(f,2),y=g[0],C=g[1],N=Object(c.useState)(""),v=Object(o.a)(N,2),S=v[0],E=v[1],T=Object(c.useState)(""),A=Object(o.a)(T,2),w=A[0],q=A[1],V=Object(c.useState)(0),D=Object(o.a)(V,2),F=D[0],k=D[1],P=Object(c.useState)(0),z=Object(o.a)(P,2),M=z[0],J=z[1];Object(c.useEffect)((function(){return function(){a(0),i(""),h(!1),C(!1),E(""),q(""),k(0),J(0)}}),[]);return Object(m.jsx)("div",{children:Object(m.jsxs)(j.a,{children:[Object(m.jsxs)(u.a,{className:"my-3",children:[" ",Object(m.jsx)("h2",{className:"text-center text-danger",children:"Coupon Validator"}),Object(m.jsx)("ul",{className:"my-4",children:Object(m.jsx)("li",{children:"For testing purposes, we are taking Total Cart Amount directly via input box."})})]}),Object(m.jsxs)(u.a,{className:"my-3",children:[Object(m.jsxs)(b.a,{md:4,lg:4,className:"d-flex justify-content-between",children:[Object(m.jsx)("label",{children:"Enter Code"}),Object(m.jsx)("input",{type:"text",name:"name",placeholder:"Enter coupon Code",onChange:function(e){i(e.target.value)},required:!0})]}),Object(m.jsxs)(b.a,{md:4,lg:4,className:"d-flex justify-content-between",children:[Object(m.jsx)("label",{children:"Total Cart Amount"}),Object(m.jsx)("input",{type:"text",name:"number",placeholder:"Total Cart Amount",onChange:function(e){a(e.target.value)},required:!0})]}),Object(m.jsx)(b.a,{md:4,lg:4,children:Object(m.jsx)(d.a,{variant:"primary",onClick:function(){n&&r?fetch("https://coupon-code-generator.herokuapp.com/api/coupons/validate",{method:"POST",body:JSON.stringify({cartValue:n,couponcode:r}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e),"success"===e.status?(C(!0),q(e.message),k(e.discountAmount),J(e.updatedCartValue),setTimeout((function(){C(!1)}),4e3)):(J(0),k(0),h(!0),E(e.message),setTimeout((function(){h(!1)}),4e3))})).catch((function(e){return console.log(e)})):alert("Enter complete details")},children:"Apply Coupon"})})]}),Object(m.jsxs)(u.a,{className:"mt-4",children:[Object(m.jsx)(b.a,{md:4,lg:4,children:Object(m.jsxs)("p",{children:["Updated Amount :"," ",M>0&&Object(m.jsx)("span",{style:{fontWeight:"600"},className:"text-primary",children:M})]})}),Object(m.jsx)(b.a,{md:4,lg:4,children:Object(m.jsxs)("p",{children:["Discount Amount :"," ",F>0&&Object(m.jsx)("span",{style:{fontWeight:"600"},className:"text-primary ",children:F})]})}),Object(m.jsxs)(b.a,{md:4,lg:4,children:[" ",x&&Object(m.jsx)("div",{className:"alert alert-danger",role:"alert",children:Object(m.jsx)("span",{style:{fontsize:"12px"},className:"text-capitalize",children:S})}),y&&Object(m.jsx)("div",{className:"alert alert-success",role:"alert",children:Object(m.jsx)("span",{style:{fontsize:"12px"},className:"text-capitalize",children:w})})]})]})]})})},f=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){return fetch("https://coupon-code-generator.herokuapp.com/api/coupons/listall").then((function(e){return e.json()})).then((function(e){console.log(e),a(e.coupons)})).catch((function(e){console.log(e)})),function(){a([])}}),[]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h2",{className:"text-center text-danger",children:"Coupons List"}),0===n.length&&Object(m.jsx)("h3",{className:"text-center text-info",children:"No Coupons Available"}),Object(m.jsx)("ol",{className:"my-3",children:n.map((function(e,t){return Object(m.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-start",children:[Object(m.jsxs)("div",{className:"ms-2 me-auto",children:[Object(m.jsxs)("div",{className:"fw-bold ",children:["Coupon Code :"," ",Object(m.jsx)("span",{className:"text-primary",children:e.name})]}),Object(m.jsxs)("span",{children:["Applicable on a minimum Cart Amount of"," ",Object(m.jsx)("strong",{children:e.minCartAmount})]})]}),Object(m.jsx)("span",{className:"badge bg-primary rounded-pill text-capitalize",children:e.couponType})]},t)}))})]})},g=function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(r.a,{children:[Object(m.jsx)(x,{}),Object(m.jsxs)(i.c,{children:[Object(m.jsx)(i.a,{path:"/",element:Object(m.jsx)(O,{})}),Object(m.jsx)(i.a,{path:"/list-coupons",element:Object(m.jsx)(f,{})}),Object(m.jsx)(i.a,{path:"/validate-coupons",element:Object(m.jsx)(h,{})})]})]})})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,41)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,l=t.getTTFB;n(e),c(e),a(e),s(e),l(e)}))};l.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(g,{})}),document.getElementById("root")),y()}},[[34,1,2]]]);
//# sourceMappingURL=main.5b42705c.chunk.js.map